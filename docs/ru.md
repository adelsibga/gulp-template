# gulp-template

Сборка Gulp для верстки и разработки чего-либо. [English](../README.md)

## Installation

Для работы с этой сборкой в новом проекте склонируйте все содержимое репозитория

`code
git clone https://github.com/adelsibga/gulp-template.git
`

Затем, находясь в корне проекта, запустите команду `npm i`, которая установит все находящиеся в `package.json` зависимости. После этого
можно использовать любую из предложенных [команд](#таски) (полученные файлы помещаются в папку build в корневом каталоге):

## Структура папок и файлов

```
├── build                         # Папка с собранным проектом
├── docs                          # Папка с инструкциями
├── src                           # Рабочая директория
│   ├── assets                    # Папка для хранения ассетов - json, php, video files, и т.д.
│   ├── components                # Папка для хранения компонентов в формате twig
│   ├── fonts                     # Папка для хранения шрифтов
│   ├── images                    # Папка для хранения картинок
│   │   ├── favicon               # Папка для хранения favicon
│   ├── js                        # Скрипты
│   │   ├── components            # JS компоненты
│   │   ├── utils                 # Папка с утилитами
│   │   └── index.js              # Главный файл скриптов
│   ├── less                      # Стили (less синтаксис)
│   ├── sass                      # Стили (sass синтаксис)
│   ├── scss                      # Стили (scss синтаксис)
│   │   ├── components            # Паска с компонентами стилей
│   │   ├── config                # Папка с конфигурационными файлами
│   │   │   └── _fonts.scss       # Файл для подключения шрифтов
│   │   │   └── _const.scss       # Файл констант
│   │   └── index.scss            # Главный файл стилей
│   ├── templates                 # Папка для хранения шаблонов twig файлов
│   │   └── layout.twig           # Файл с шаблоном
│   └── index.twig                # Главный twig файл
└── .gitignore                    # Файл .gitignore нужен, чтобы скрыть файлы и папки от системы контроля версий Git
└── gulpfile.js                   # Файл настроек Gulp
└── package.json                  # Файл с настройками сборки и установленными пакетами
└── package-lock.json             # Файл package-lock.json используется для фиксации зависимостей к определенному номеру версии
└── README.md                     # Документация по сборке
```

## Оглавление

1. [npm-скрипты](#1)
2. [Таски](#таски)
3. [Работа с Twig](#работа-с-twig)
4. [Работа со стилями](#работа-со-стилями)
5. [Работа с JS](#работа-с-JS)
6. [Работа со шрифтами](#работа-со-шрифтами)
7. [Работа с изображениями](#работа-с-изображениями)
8. [Работа с иными ресурсами](#работа-с-иными-ресурсами)
9. [Заключегие](#заключение)

## npm-скрипты

TODO: добавить и написать инструкцию для eslint prettier

## Таски

1. `gulp twig2Html` - собирает twig в html
2. `gulp styles` - собирает стили
3. `gulp scripts` - собирает js скрипты
4. `gulp images` - сжимает и оптимизирует картинки
5. `gulp fonts` - перегоняет шрифты в build директорию
6. `gulp assets` - перегоняет все файлы из assets в build директорию
7. `gulp clean` - очищает build директорию
8. `gulp build` - выполняет все таски описанные выше
9. `gulp` - запускает таск `gulp build`, поднимает browserSync и автоматически перезагружает браузер

## Работа с Twig

Благоддаря плагину gulp-twig вы можете разделять twig файлы на различные части, шаблоны, компоненты, которые должны хранитсья в папке components.
Удобно делить страницу на секции.
> Для вставки частей в файлы используйте `{% include './components/filename.twig' %}`

> Для использования шаблонов страниц в новом twig файле используйте `{% extends 'templates/layout.twig' %}`

Более подробно про twig можно прочитать [тут](https://twig.symfony.com/doc/3.x/)

## Работа со стилями

В сборке используются препроцессоры: __less__ и __sass__ в синтаксисе __scss__ и __sass__

Стили, написанные в __components__, следует подключать в __index.scss__

При использовании команды `gulp build`, вы получите минифицированный css-код в одну строку для всех css-файлов.

## Работа с JS

## Работа со шрифтами

Т.к. автор не поддерживает IE11, в сборке реализована поддержка только формата woff2 (это значит, что в миксине подключения шрифтов используется
только данный формат).
Загружайте файлы woff2 в папку `fonts`, а затем вызывайте миксин `@font-face` в файле `_fonts.scss`.
Также не забудьте прописать эти же шрифты в <link preload> в html. https://habr.com/ru/articles/445264/

## Работа с изображениями

Все изображения хранятся в папке images
При использовании команды gulp build, вы получите минифицированные изображения в итоговой папке img.

## Работа с иными ресурсами

Любые ресурсы (ассеты) проекта, под которые не отведена соответствующая папка, должны храниться в папке assets. Это могут быть видео-файлы,
php-файлы (как, например, файл отправки формы), favicon и прочие

## Заключение

Спасибо всем, кто использует сборку! Если вы заметили какую-либо ошибку, пришлите пожалуйста issue с подробным описанием проблемы, я все смотрю и
постараюсь решить. Спасибо!